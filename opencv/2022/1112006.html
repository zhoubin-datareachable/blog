<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>图像平滑处理 | 博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/2.10.0/github-markdown.min.css">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.efd317d0.css" as="style"><link rel="preload" href="/assets/js/app.3de01dea.js" as="script"><link rel="preload" href="/assets/js/6.20649698.js" as="script"><link rel="preload" href="/assets/js/1.e2b5cad9.js" as="script"><link rel="preload" href="/assets/js/20.7027ad51.js" as="script"><link rel="prefetch" href="/assets/js/10.e97154be.js"><link rel="prefetch" href="/assets/js/11.a13fdec0.js"><link rel="prefetch" href="/assets/js/12.a86ede24.js"><link rel="prefetch" href="/assets/js/13.fdc6280a.js"><link rel="prefetch" href="/assets/js/14.bdcb57cb.js"><link rel="prefetch" href="/assets/js/15.c958d8cc.js"><link rel="prefetch" href="/assets/js/16.ad04e336.js"><link rel="prefetch" href="/assets/js/17.7779a1a7.js"><link rel="prefetch" href="/assets/js/18.1ee8c9f3.js"><link rel="prefetch" href="/assets/js/19.ded903d6.js"><link rel="prefetch" href="/assets/js/21.2c5df109.js"><link rel="prefetch" href="/assets/js/22.0bb18c70.js"><link rel="prefetch" href="/assets/js/23.2b6956f3.js"><link rel="prefetch" href="/assets/js/24.ec48a0b1.js"><link rel="prefetch" href="/assets/js/25.99949985.js"><link rel="prefetch" href="/assets/js/26.fdeca256.js"><link rel="prefetch" href="/assets/js/27.9ed8280f.js"><link rel="prefetch" href="/assets/js/28.172c64b1.js"><link rel="prefetch" href="/assets/js/29.74671872.js"><link rel="prefetch" href="/assets/js/3.6778fee0.js"><link rel="prefetch" href="/assets/js/30.c04deb0b.js"><link rel="prefetch" href="/assets/js/31.ca05d061.js"><link rel="prefetch" href="/assets/js/32.b1aef7c1.js"><link rel="prefetch" href="/assets/js/33.95146fd6.js"><link rel="prefetch" href="/assets/js/34.3e7732e2.js"><link rel="prefetch" href="/assets/js/35.383a5c39.js"><link rel="prefetch" href="/assets/js/36.6c7c61cf.js"><link rel="prefetch" href="/assets/js/37.b75eeac8.js"><link rel="prefetch" href="/assets/js/38.c2eb78c0.js"><link rel="prefetch" href="/assets/js/39.df68377b.js"><link rel="prefetch" href="/assets/js/4.e44cb0bc.js"><link rel="prefetch" href="/assets/js/40.ea08396d.js"><link rel="prefetch" href="/assets/js/41.be442da8.js"><link rel="prefetch" href="/assets/js/42.1cb8c517.js"><link rel="prefetch" href="/assets/js/43.25158ffe.js"><link rel="prefetch" href="/assets/js/44.ca4390eb.js"><link rel="prefetch" href="/assets/js/45.e7a289a0.js"><link rel="prefetch" href="/assets/js/46.e0cc4853.js"><link rel="prefetch" href="/assets/js/47.f330a9fa.js"><link rel="prefetch" href="/assets/js/48.747af6ce.js"><link rel="prefetch" href="/assets/js/49.4e8a6c1e.js"><link rel="prefetch" href="/assets/js/5.ba50611b.js"><link rel="prefetch" href="/assets/js/50.a5056b41.js"><link rel="prefetch" href="/assets/js/51.9dd790c0.js"><link rel="prefetch" href="/assets/js/52.d0bc874f.js"><link rel="prefetch" href="/assets/js/53.73bda541.js"><link rel="prefetch" href="/assets/js/54.b1e8df13.js"><link rel="prefetch" href="/assets/js/55.1d097d95.js"><link rel="prefetch" href="/assets/js/56.8375e3cd.js"><link rel="prefetch" href="/assets/js/57.9e38c841.js"><link rel="prefetch" href="/assets/js/58.5c9a38c8.js"><link rel="prefetch" href="/assets/js/59.aff064f5.js"><link rel="prefetch" href="/assets/js/60.e82411e5.js"><link rel="prefetch" href="/assets/js/61.5176c7c4.js"><link rel="prefetch" href="/assets/js/62.f6b3251c.js"><link rel="prefetch" href="/assets/js/63.98dd88cd.js"><link rel="prefetch" href="/assets/js/64.9c3004db.js"><link rel="prefetch" href="/assets/js/65.0e8f5cc7.js"><link rel="prefetch" href="/assets/js/7.c849b110.js"><link rel="prefetch" href="/assets/js/8.65ce7c3e.js"><link rel="prefetch" href="/assets/js/9.94207338.js">
    <link rel="stylesheet" href="/assets/css/0.styles.efd317d0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-5bb33761><div data-v-5bb33761><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-5bb33761 data-v-5bb33761><h3 class="title" data-v-59e6cb88>博客</h3> <p class="description" data-v-59e6cb88></p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>土豆</span>
          
        <span data-v-59e6cb88>2021 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-5bb33761><header class="navbar" data-v-5bb33761><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  home
</a></div><div class="nav-item"><a href="/other/2022/0929001.html" class="nav-link"><i class="iconfont reco-other"></i>
  软件
</a></div><div class="nav-item"><a href="https://github.com/zhoubin-datareachable" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://support.qq.com/product/435903" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-suggestion"></i>
  留言板
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-5bb33761></div> <aside class="sidebar" data-v-5bb33761><div class="personal-info-wrapper" data-v-1fad0c41 data-v-5bb33761><img src="/avatar.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    土豆
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>54</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>26</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  home
</a></div><div class="nav-item"><a href="/other/2022/0929001.html" class="nav-link"><i class="iconfont reco-other"></i>
  软件
</a></div><div class="nav-item"><a href="https://github.com/zhoubin-datareachable" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://support.qq.com/product/435903" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-suggestion"></i>
  留言板
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-5bb33761><h3 class="title" data-v-59e6cb88>图像平滑处理</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>土豆</span>
          
        <span data-v-59e6cb88>2021 - </span>
        2023
      </a></span></div></div> <div data-v-5bb33761><div data-v-5bb33761><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">图像平滑处理</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>土豆</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2022/11/12</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>openCV</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="思维导图"><a href="#思维导图" class="header-anchor">#</a> 思维导图</h2> <p><img src="/assets/img/image-20220612162544-wjx18zz.1d7bd058.png" alt="image.png"></p> <h2 id="均值滤波"><a href="#均值滤波" class="header-anchor">#</a> 均值滤波</h2> <p>均值滤波是指用当前像素点周围N*N个像素值的均值来代替当前像素值。</p> <p>取3X3区域内所有像素点平均值。</p> <p><img src="/assets/img/image-20220612164246-cy2x2jq.47610e71.png" alt="image.png"></p> <p>计算新值 [(250+44+70)+(193+138+188)+(153+240+211)] / 9 = 165.22</p> <p>依次计算其他的值得到</p> <p><img src="/assets/img/image-20220612165226-g5vm1oh.1b095971.png" alt="image.png"></p> <p>对于边缘的像素可以采用多种方式默认是BORDER_DEFAULT</p> <p>对像素进行补齐，然后求值</p> <p><img src="/assets/img/image-20220612170141-klkaniy.95e97275.png" alt="image.png"></p> <p>计算新值 [(138+193+138)+(44+250+44)+(138+193+138)]/9 = 141.77</p> <p>依次计算其他的值得到</p> <p><img src="/assets/img/image-20220612170458-bexs09h.cfa738ea.png" alt="image.png"></p> <div class="language-py extra-class"><pre class="language-py"><code>dst <span class="token operator">=</span> cv2<span class="token punctuation">.</span>blur<span class="token punctuation">(</span>src<span class="token punctuation">,</span>ksize<span class="token punctuation">,</span>anchor<span class="token punctuation">,</span>borderType<span class="token punctuation">)</span>
</code></pre></div><ul><li>dst 返回值，均值滤波后的结果</li> <li>src 原始图像数据</li> <li>ksize 滤波核的大小</li> <li>anchor 锚点</li> <li>borderType 边界样式，决定了以何种方式处理边界</li></ul> <p><img src="/assets/img/image-20220612170911-he2wesu.b1cd83b8.png" alt="image.png"></p> <p>程序示例</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 滤波后的值</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>blur<span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre></div><h2 id="方框滤波"><a href="#方框滤波" class="header-anchor">#</a> 方框滤波</h2> <p>如果计算的是<strong>领域像素值的均值</strong>(相当于均值滤波，及<strong>归一化处理</strong>)，如果是计算的是领域像素之和(及<strong>不归一化处理</strong>)</p> <div class="language-py extra-class"><pre class="language-py"><code>dst <span class="token operator">=</span> cv2<span class="token punctuation">.</span>boxFilter<span class="token punctuation">(</span>src<span class="token punctuation">,</span>ddepth<span class="token punctuation">,</span>ksize<span class="token punctuation">,</span>anchor<span class="token punctuation">,</span>normalize<span class="token punctuation">,</span>borderType<span class="token punctuation">)</span>
</code></pre></div><ul><li>dst 返回值，方框滤波处理后的结果</li> <li>src 原始图像</li> <li>ddepth 图像深度，<strong>一般使用-1</strong> 表示与原图像使用相同的图像深度</li> <li>ksize 滤波核的大小</li> <li>anchor 锚点</li> <li>normalize 表示是否归一化(默认为1，及归一化)</li></ul> <p><strong>7.2.1 归一化处理</strong></p> <p>对滤波核内的所有像素求<strong>平均值</strong></p> <p><img src="/assets/img/image-20220612164246-cy2x2jq-16682188548647.47610e71.png" alt="image.png"></p> <p>示例</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 方框滤波 归一化处理</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>boxFilter<span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre></div><p><strong>7.2.2 不归一化处理</strong></p> <p>对滤波核内的所有像素<strong>求和</strong>，大于255取255</p> <p><img src="/assets/img/image-20220612174829-mcwd3sn.b7d6b9f2.png" alt="image.png"></p> <p>计算新值 [(54+3)+(33+154)] = 244</p> <p>示例</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 方框滤波 不使用归一化</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>boxFilter<span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>normalize<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre></div><h2 id="高斯滤波"><a href="#高斯滤波" class="header-anchor">#</a> 高斯滤波</h2> <p>在高斯滤波中，会将<strong>中心点的权重值加大</strong>，<strong>远离中心点的权重减少</strong>，在此基础上计算各个领域内各个<strong>像素值的和</strong>。</p> <p>3X3的高斯滤波卷积核</p> <p><img src="data:image/png;base64,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" alt="image.png"></p> <p>算出每个值得比例</p> <p>sum = 1 + 2 + 1 + 2 + 8 + 2 + 1 + 2 + 1 = 20</p> <p>分别求值 1/20  = 0.05   2/20 = 0.1  8/20 = 0.4</p> <p><img src="/assets/img/image-20220612180640-id8at7o.03a4058d.png" alt="image.png"></p> <p>实际运用</p> <p><img src="/assets/img/image-20220612181921-pxlfozj.ff40cf74.png" alt="image.png"></p> <p>计算新值 [(138 x 0.05+188 x 0.1 + 230 x 0.05)+(240 x 0.1+211 x 0.4 + 45 x 0.1)+(247 x 0.05+91 x 0.1 + 29 x 0.05)] = 177</p> <p><strong>函数语法</strong></p> <div class="language-py extra-class"><pre class="language-py"><code>dst <span class="token operator">=</span> cv2<span class="token punctuation">.</span>GaussianBlur<span class="token punctuation">(</span>src<span class="token punctuation">,</span>ksize<span class="token punctuation">,</span>sigmaX<span class="token punctuation">,</span>sigmaY<span class="token punctuation">,</span>borderType<span class="token punctuation">)</span>
</code></pre></div><ul><li>dst 返回值，高斯滤波处理后得值</li> <li>src 原始图像</li> <li>ksize 滤波核大小</li> <li>sigmaX 卷积核在水平方向上(X轴方向)得标准差，其控制得是权重比例。</li> <li>borderType 边界样式</li></ul> <p>示例</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 高斯滤波</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>GaussianBlur<span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre></div><h2 id="中值滤波"><a href="#中值滤波" class="header-anchor">#</a> 中值滤波</h2> <p>它用领域内所有像素值的<strong>中间值</strong>来替代当前像素点的像素值</p> <p><img src="/assets/img/image-20220612183419-6jn7txv.c19f1056.png" alt="image.png"></p> <p>函数语法</p> <div class="language-py extra-class"><pre class="language-py"><code>dst <span class="token operator">=</span> cv2<span class="token punctuation">.</span>medianBlur<span class="token punctuation">(</span>src<span class="token punctuation">,</span>ksize<span class="token punctuation">)</span>
</code></pre></div><ul><li>dst 返回值，中值滤波处理的结果</li> <li>src 需要处理的图像</li> <li>ksize 滤波核的大小，<strong>核大小必须是比1大的奇数，如3,5,7</strong></li></ul> <p>示例</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 中值滤波</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>medianBlur<span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre></div><h2 id="双边滤波"><a href="#双边滤波" class="header-anchor">#</a> 双边滤波</h2> <p>双边滤波是综合考虑<strong>空间信息</strong>和<strong>色彩信息</strong>的滤波方式，在滤波过程中能够有效的保护图像内的<strong>边缘信息</strong>。</p> <p>函数语法</p> <div class="language-py extra-class"><pre class="language-py"><code>dst <span class="token operator">=</span> cv2<span class="token punctuation">.</span>bilateralFilter<span class="token punctuation">(</span>src<span class="token punctuation">,</span>d<span class="token punctuation">,</span>sigmaColor<span class="token punctuation">,</span>sigmaSpace<span class="token punctuation">,</span>borderType<span class="token punctuation">)</span>
</code></pre></div><ul><li>dst 返回值，双边滤波后得到的处理结果</li> <li>src 原图像</li> <li>d 滤波时选取的空间距离参数</li> <li>sigmaColor是滤波处理时选取的颜色差值范围，该值决定了周围那些像素点能够参与到滤波中来。255时都能参与运算。</li> <li>sigmaSpace是坐标空间中的sigma值。它的值越大，说明有越多的点能够参与到滤波计算中来。</li> <li>borderType 边界样式</li></ul> <p>示例</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
o <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>

<span class="token comment"># 双边滤波</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>bilateralFilter<span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre></div><h2 id="_2d卷积"><a href="#_2d卷积" class="header-anchor">#</a> 2D卷积</h2> <p>我们希望使用特定的卷积核实现卷积操作</p> <p>操作函数</p> <div class="language-py extra-class"><pre class="language-py"><code>dst <span class="token operator">=</span> cv2<span class="token punctuation">.</span>filter2D<span class="token punctuation">(</span>src<span class="token punctuation">,</span>ddepth<span class="token punctuation">,</span>kernel<span class="token punctuation">,</span>anchor<span class="token punctuation">,</span>delta<span class="token punctuation">,</span>borderType<span class="token punctuation">)</span>
</code></pre></div><ul><li>dst 返回值</li> <li>src 原始图像</li> <li>ddeptch 处理结果图像的图像深度</li> <li>kernel 是卷积核</li> <li>anchor 锚点</li> <li>delta 修正值，它是可选项。如果该值存在，会在基础滤波的结果上加上该值作为最终滤波的结果</li> <li>borderType 边界样式</li></ul> <p>示例:</p> <p>构建一个均值滤波卷积核</p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token keyword">import</span> cv2
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

o <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>
<span class="token comment"># 卷积核</span>
kernal <span class="token operator">=</span> np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>float32<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">81</span>

<span class="token comment"># 2D卷积</span>
r<span class="token operator">=</span>cv2<span class="token punctuation">.</span>filter2D<span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>kernal<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre></div></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-ac050c62><li class="level-2" data-v-ac050c62><a href="/opencv/2022/1112006.html#思维导图" class="sidebar-link reco-side-思维导图" data-v-ac050c62>思维导图</a></li><li class="level-2" data-v-ac050c62><a href="/opencv/2022/1112006.html#均值滤波" class="sidebar-link reco-side-均值滤波" data-v-ac050c62>均值滤波</a></li><li class="level-2" data-v-ac050c62><a href="/opencv/2022/1112006.html#方框滤波" class="sidebar-link reco-side-方框滤波" data-v-ac050c62>方框滤波</a></li><li class="level-2" data-v-ac050c62><a href="/opencv/2022/1112006.html#高斯滤波" class="sidebar-link reco-side-高斯滤波" data-v-ac050c62>高斯滤波</a></li><li class="level-2" data-v-ac050c62><a href="/opencv/2022/1112006.html#中值滤波" class="sidebar-link reco-side-中值滤波" data-v-ac050c62>中值滤波</a></li><li class="level-2" data-v-ac050c62><a href="/opencv/2022/1112006.html#双边滤波" class="sidebar-link reco-side-双边滤波" data-v-ac050c62>双边滤波</a></li><li class="level-2" data-v-ac050c62><a href="/opencv/2022/1112006.html#_2d卷积" class="sidebar-link reco-side-_2d卷积" data-v-ac050c62>2D卷积</a></li></ul></main></div> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.3de01dea.js" defer></script><script src="/assets/js/6.20649698.js" defer></script><script src="/assets/js/1.e2b5cad9.js" defer></script><script src="/assets/js/20.7027ad51.js" defer></script>
  </body>
</html>
